"use strict";(self.webpackChunkedc_docs=self.webpackChunkedc_docs||[]).push([[7276],{3905:(e,o,t)=>{t.d(o,{Zo:()=>s,kt:()=>m});var r=t(7294);function n(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function a(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?a(Object(t),!0).forEach((function(o){n(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function i(e,o){if(null==e)return{};var t,r,n=function(e,o){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],o.indexOf(t)>=0||(n[t]=e[t]);return n}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var d=r.createContext({}),l=function(e){var o=r.useContext(d),t=o;return e&&(t="function"==typeof e?e(o):c(c({},o),e)),t},s=function(e){var o=l(e.components);return r.createElement(d.Provider,{value:o},e.children)},u={inlineCode:"code",wrapper:function(e){var o=e.children;return r.createElement(r.Fragment,{},o)}},p=r.forwardRef((function(e,o){var t=e.components,n=e.mdxType,a=e.originalType,d=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=l(t),m=n,v=p["".concat(d,".").concat(m)]||p[m]||u[m]||a;return t?r.createElement(v,c(c({ref:o},s),{},{components:t})):r.createElement(v,c({ref:o},s))}));function m(e,o){var t=arguments,n=o&&o.mdxType;if("string"==typeof e||n){var a=t.length,c=new Array(a);c[0]=p;var i={};for(var d in o)hasOwnProperty.call(o,d)&&(i[d]=o[d]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var l=2;l<a;l++)c[l]=t[l];return r.createElement.apply(null,c)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},6723:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var r=t(7462),n=(t(7294),t(3905));const a={},c="Code coverage",i={unversionedId:"submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/README",id:"submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/README",title:"Code coverage",description:"Decision",source:"@site/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/README.md",sourceDirName:"submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage",slug:"/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/",permalink:"/edc-docs/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/",draft:!1,editUrl:"https://github.com/FraunhoferISST/edc-docs/tree/master/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/README.md",tags:[],version:"current",frontMatter:{}},d={},l=[{value:"Decision",id:"decision",level:2},{value:"Rationale",id:"rationale",level:2},{value:"Spikes",id:"spikes",level:2},{value:"Comparison of selected options",id:"comparison-of-selected-options",level:2}],s={toc:l};function u(e){let{components:o,...t}=e;return(0,n.kt)("wrapper",(0,r.Z)({},s,t,{components:o,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"code-coverage"},"Code coverage"),(0,n.kt)("h2",{id:"decision"},"Decision"),(0,n.kt)("p",null,"JaCoCo is used for measuring test code coverage in the build, in order to obtain metrics on the current state of EDC testing as well as its evolution over time. "),(0,n.kt)("p",null,"The Codecov platform is used for visualizing code coverage statistics on PRs. This will raise developer awareness on an increase/decrease of coverage introduced by PRs. Codecov provides a detailed report including a dashboard with additional metrics like code complexity."),(0,n.kt)("h2",{id:"rationale"},"Rationale"),(0,n.kt)("p",null,"Test code coverage is a measure of the source code that executed when a test suite is run. A program with high test coverage has a lower chance of containing bugs."),(0,n.kt)("p",null,"At the time of writing, code coverage in the solution is under 50%. Increasing code coverage can best be achieved over time by providing feedback on coverage impact on each PR. This requires a more advanced tool than JaCoCo on its own can provide, and is well achieved by Codecov."),(0,n.kt)("h2",{id:"spikes"},"Spikes"),(0,n.kt)("p",null,"We evaluated the following options:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/edc-docs/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/jacoco"},"JaCoCo without or with aggregation")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/edc-docs/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/codecov"},"JaCoCo with Codecov")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/edc-docs/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/codacy"},"JaCoCo with Codacy")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/edc-docs/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/sonarqube"},"JaCoCo with SonarQube")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/edc-docs/docs/submodule/Connector/docs/developer/decision-records/2022-02-10-code-coverage/jacoco_github_action"},"JaCoCo with Github Action"))),(0,n.kt)("h2",{id:"comparison-of-selected-options"},"Comparison of selected options"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Tool"),(0,n.kt)("th",{parentName:"tr",align:null},"Project coverage report"),(0,n.kt)("th",{parentName:"tr",align:null},"Coverage on PR in Github"),(0,n.kt)("th",{parentName:"tr",align:null},"Additional comments"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"JaCoCo with Codecov"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705 Detailed report on Codecov dashboard"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705 Github bot messages on every PR (coverage after the PR is merged, total project coverage, code complexity)"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705 Reports on code complexity",(0,n.kt)("br",null)," \u2705 Easy configuration")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"JaCoCo with Github Actions"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705 Basic report (percentage)"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705 Github bot messages on every PR (coverage on changed files and total project coverage)"),(0,n.kt)("td",{parentName:"tr",align:null},"\u26a0\ufe0f ","[Minor issue]"," Manual configuration (JaCoCo Report Github Action requires a property to path to JaCoCo reports)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"JaCoCo with Codacy"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705 Report available on Codacy dashboard"),(0,n.kt)("td",{parentName:"tr",align:null},"\u26a0\ufe0f Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"\u26a0\ufe0f Delays in reports showing up in the dashboard")))))}u.isMDXComponent=!0}}]);